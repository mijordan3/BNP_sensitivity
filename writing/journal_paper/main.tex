\documentclass{article}

\usepackage{etoolbox}

% Set this toggle true to compile a version for the arxiv, and
% false to compile for the currently configured conference.
% NOTE: you also must set the single_column flags in the Rnw files to
% make side-by-side figures for the arxiv version.
\newtoggle{for_arxiv}
\toggletrue{for_arxiv}
%\togglefalse{for_arxiv}

\nottoggle{for_arxiv}{%
    \usepackage[accepted]{aistats2019} % hooray!
    % \usepackage{aistats2019}
}

\usepackage{microtype}
\usepackage{graphicx}
\usepackage{subfigure}
\usepackage{booktabs} % for professional tables
\usepackage{siunitx}
\usepackage{hyperref}
\usepackage{xargs}[2008/03/08]

\iftoggle{for_arxiv} {
    \usepackage[authoryear]{natbib}
} {
    \usepackage[round]{natbib}
    \renewcommand{\bibname}{References}
    \renewcommand{\bibsection}{\subsubsection*{\bibname}}
}


% Attempt to make hyperref and algorithmic work together better:
\newcommand{\theHalgorithm}{\arabic{algorithm}}


\usepackage{prettyref}
\usepackage{refstyle}

\usepackage{amsmath}
\usepackage{amssymb}
\usepackage{amsfonts}
\usepackage{amsthm}
\usepackage{mathrsfs}
\usepackage{mathtools}
\usepackage{colonequals}
\usepackage{algpseudocode, algorithm} %typical alg typesetting packages

\usepackage{listings}
\usepackage{pdfpages}

% Define things needed to incorporate the LyX appendix.
% We can define things redundantly if necessary, but please don't modify
% this file -- if there's a name clash for a function you want to define,
% please just pick a new name.
\input{lyx_commands.tex}

% This picks up the knitr boilerplate, allowing us to \input partial knitr
% documents.
\input{knitr_header.tex}

% Paper-specific math macros (not in the appendix).
\global\long\def\wcv{W_k}
\global\long\def\wboot{W^*_B}
\global\long\def\thetapw{\thetahat(w)}
\global\long\def\wdiff{\Delta w}


\newcommand{\eq}[1]{Eq.~\ref{eq:#1}}
\newcommand{\fig}[1]{Fig.~\ref{fig:#1}}
\newcommand{\rthm}[1]{Theorem~\ref{thm:#1}}
\newcommand{\sect}[1]{Section~\ref{sec:#1}}
\newcommand{\subsect}[1]{Section~\ref{subsec:#1}}
\newcommand{\assum}[1]{Assumption~\ref{assum:#1}}
\newcommand{\lemma}[1]{Lemma~\ref{lm:#1}}
\newcommand{\corollary}[1]{Corollary~\ref{cor:#1}}
\newcommand{\app}[1]{Appendix~\ref{app:#1}}
\newcommand{\appsect}[1]{Appendix~\ref{sec:#1}}

\newcommand{\coreassum}{Assumptions \ref{assu:paper_smoothness}--\ref{assu:paper_lipschitz} }
\newcommand{\paperallcoreassum}{Assumptions \ref{assu:paper_smoothness}--\ref{assu:paper_weight_bounded} }

\iftoggle{for_arxiv}{%
    \title{Evaluating Sensitivity to the Stick Breaking Prior in Bayesian Nonparametrics}
    \author{
      Ryan Giordano\\ \texttt{rgiordano@berkeley.edu}
      \and
      Runjing Liu\\ \texttt{runjing\_liu@berkeley.edu}
      \and
      Michael I.~Jordan\\ \texttt{jordan@cs.berkeley.edu}
      \and
      Tamara Broderick\\ \texttt{tbroderick@csail.mit.edu}
    }
}


\begin{document}

\iftoggle{for_arxiv} {
    \maketitle
}

\nottoggle{for_arxiv} {
\twocolumn[
    \aistatstitle{Evaluating Sensitivity to the Stick Breaking Prior in Bayesian Nonparametrics}

    \aistatsauthor{
        Ryan Giordano \And
        Runjing Liu \And
        Michael I.~Jordan \And
        Tamara Broderick
    }
    \aistatsaddress{
        UC Berkeley \And
        UC Berkeley \And
        UC Berkeley \And
        MIT
    }
]
}

\begin{abstract}
%
This is an abstract.
%
\end{abstract}

\section{Introduction}\label{sec:introduction}
\input{introduction.tex}


\section{Stick-breaking Dirichlet processes}


\section{Local sensitivity}


\section{Results}

\subsection{Gaussian mixture modeling on Iris data}

\subsection{Regression mixture modeling}
\input{mice_data_experiments.tex}

\subsection{Genetic admixture modeling with STRUCTURE}


\section{Conclusion}
This concludes.

\newpage
\input{acknowledgements.tex}

\bibliography{references}
\bibliographystyle{plainnat}

\newpage
\onecolumn
\appendix

\section{Supplemental results}

\end{document}
