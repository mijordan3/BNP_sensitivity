\documentclass[10pt]{beamer}\usepackage[]{graphicx}\usepackage[]{color}
%% maxwidth is the original width if it is less than linewidth
%% otherwise use linewidth (to make sure the graphics do not exceed the margin)
\makeatletter
\def\maxwidth{ %
  \ifdim\Gin@nat@width>\linewidth
    \linewidth
  \else
    \Gin@nat@width
  \fi
}
\makeatother

\definecolor{fgcolor}{rgb}{0.345, 0.345, 0.345}
\newcommand{\hlnum}[1]{\textcolor[rgb]{0.686,0.059,0.569}{#1}}%
\newcommand{\hlstr}[1]{\textcolor[rgb]{0.192,0.494,0.8}{#1}}%
\newcommand{\hlcom}[1]{\textcolor[rgb]{0.678,0.584,0.686}{\textit{#1}}}%
\newcommand{\hlopt}[1]{\textcolor[rgb]{0,0,0}{#1}}%
\newcommand{\hlstd}[1]{\textcolor[rgb]{0.345,0.345,0.345}{#1}}%
\newcommand{\hlkwa}[1]{\textcolor[rgb]{0.161,0.373,0.58}{\textbf{#1}}}%
\newcommand{\hlkwb}[1]{\textcolor[rgb]{0.69,0.353,0.396}{#1}}%
\newcommand{\hlkwc}[1]{\textcolor[rgb]{0.333,0.667,0.333}{#1}}%
\newcommand{\hlkwd}[1]{\textcolor[rgb]{0.737,0.353,0.396}{\textbf{#1}}}%
\let\hlipl\hlkwb

\usepackage{framed}
\makeatletter
\newenvironment{kframe}{%
 \def\at@end@of@kframe{}%
 \ifinner\ifhmode%
  \def\at@end@of@kframe{\end{minipage}}%
  \begin{minipage}{\columnwidth}%
 \fi\fi%
 \def\FrameCommand##1{\hskip\@totalleftmargin \hskip-\fboxsep
 \colorbox{shadecolor}{##1}\hskip-\fboxsep
     % There is no \\@totalrightmargin, so:
     \hskip-\linewidth \hskip-\@totalleftmargin \hskip\columnwidth}%
 \MakeFramed {\advance\hsize-\width
   \@totalleftmargin\z@ \linewidth\hsize
   \@setminipage}}%
 {\par\unskip\endMakeFramed%
 \at@end@of@kframe}
\makeatother

\definecolor{shadecolor}{rgb}{.97, .97, .97}
\definecolor{messagecolor}{rgb}{0, 0, 0}
\definecolor{warningcolor}{rgb}{1, 0, 1}
\definecolor{errorcolor}{rgb}{1, 0, 0}
\newenvironment{knitrout}{}{} % an empty environment to be redefined in TeX

\usepackage{alltt}
\usetheme{metropolis}           % Use metropolis theme

\usepackage{graphicx}

\DeclareGraphicsExtensions{.pdf,.jpeg,.jpg,.png}

\usepackage{subcaption}
\usepackage{amsmath}

\usepackage{tikz}
\usetikzlibrary{bayesnet}
\usepackage{pgfplots}
\pgfplotsset{compat=1.13}

\usepackage[framemethod=TikZ, xcolor=RGB]{mdframed}
\definecolor{mydarkblue}{rgb}{0,.06,.5}
\definecolor{mydarkred}{rgb}{.5,0,.1}
\definecolor{myroyalblue}{rgb}{0,.1,.8}
\mdfdefinestyle{MyFrame}{%
    linecolor=mydarkblue,
    outerlinewidth=0.5pt,
    roundcorner=2pt,
    innertopmargin=2pt,
    innerbottommargin=2pt,
    innerrightmargin=2pt,
    innerleftmargin=2pt,
    backgroundcolor=blue!10}

\newcommand{\Rbb}{\mathbb{R}}
\newcommand{\Expect}{\mathbb{E}}
\newcommand{\Expecthat}{\hat{\mathbb{E}}}
\newcommand{\Var}{\text{Var}}
\newcommand{\Cov}{\text{Cov}}
\newcommand{\vbfamily}{\mathcal{Q}}
\newcommand{\etaopt}{\eta^{*}}
\newcommand{\etazopt}{\eta_z^{*}}
\newcommand{\etathetaopt}{\eta_\theta^{*}}
%\newcommand{\qopt}{q^{*}}
\newcommand{\targethat}{\hat{g}}
\newcommand{\QExpect}
{\Expect_{q\left(\theta, z \vert \eta_\theta, \etazopt(\eta_\theta)\right)}}
\newcommand{\atzero}{\Big\rvert_{\eta_\theta = \etathetaopt, \epsilon = 0}}
\newcommand{\etathetalin}{\eta_\theta^{LIN}}
\DeclareMathOperator*{\argmin}{arg\,min}





\title{Evaluating Sensitivity to the Stick Breaking Prior in
Bayesian Nonparametrics}
\date{November 17, 2020}
\author{Runjing (Bryan) Liu}
\institute{University of California, Berkeley}

\setbeamertemplate{Collaborators}[none]
\IfFileExists{upquote.sty}{\usepackage{upquote}}{}
\begin{document}
\maketitle

\begin{frame}{Collaborators}
  	\vspace{1em}
  	\begin{figure}
  		\begin{subfigure}{.4\textwidth}
  			\centering
  			\includegraphics[height=2cm]{collaborators/bryan}
        \captionsetup{justification=centering}
  			\caption*{Runjing (Bryan) Liu \\ UC Berkeley}
  		\end{subfigure}%
  		\begin{subfigure}{.4\textwidth}
  			\centering
  			\includegraphics[height=2cm]{collaborators/ryan}
  			\caption*{Ryan Giordano \\ MIT}
  		\end{subfigure}\\ \vspace{0.11in}
      \begin{subfigure}{.4\textwidth}
  			\centering
  			\includegraphics[height=2cm]{collaborators/mike}
  			\caption*{Michael I.\ Jordan \\ UC Berkeley}
  		\end{subfigure}%
  		\begin{subfigure}{.4\textwidth}
  			\centering
  			\includegraphics[height=2cm]{collaborators/tamara}
  			\caption*{Tamara Broderick \\ MIT}
  		\end{subfigure}\\
  	\end{figure}

\end{frame}

\input{1_introduction}

\input{2_bnp_model}

\input{3_vi}

\input{4_hyper_param_sens}

\input{5_iris_results}

\input{6_structure_results}

\begin{frame}{Summary}

\vspace{1em}

\begin{mdframed}[style=MyFrame]
\begin{center}
{\bf Our linear approximation provides a fast and reasonable alternative to
re-evaluating the full model after changing the BNP prior.}
\end{center}
\end{mdframed}

\vspace{0.5em}

{\bf A related workshop paper: }\newline
Runjing Liu, Ryan Giordano, Michael I. Jordan, Tamara Broderick. \newline
“Evaluating Sensitivity to the Stick Breaking Prior in Bayesian Nonparametrics.”
\newline {\color{blue}\url{https://arxiv.org/pdf/1810.06587.pdf}}

\vspace{1em}

{\bf Code: }\newline
Paragami: parameter folding and flattening for optimization problems \newline
{\color{blue}\url{https://github.com/rgiordan/paragami}}

Vittles: library for sensitivity analysis in optimization problems \newline
{\color{blue}\url{https://pypi.org/project/vittles/}}


\end{frame}


\end{document}

% \begin{frame}{Functional perturbations: worst case}
%
% There are many possible choices for $p_1$.
% We consider the {\itshape worst-case} perturbation.
%
% \pause
%
% Define the inner-product,
% \begin{align*}
%     \langle a, b\rangle := \int a(\nu)b(\nu)p_0(\nu)\lambda(d\nu).
% \end{align*}
%
% Let $\phi(\nu) := \log p_1(\nu) - \log p_0(\nu)$.
% Then the sensitivity can be written as
% \begin{align*}
% \frac{d \eta^*(\epsilon)}{d\epsilon^T}\Big|_{\epsilon=0}
%  &= \langle \mathcal{I}, \phi\rangle,
% \end{align*}
% $\mathcal{I}$ being the {\itshape influence function}.
% We can view $\mathcal{I}$ as a functional derivative (in an appropriate norm).
%
% \end{frame}
%
% \begin{frame}{Results: functional perturbation}
% The worst-case perturbation is defined as
% \begin{align*}
%   \text{arg\,sup}\Big\{\langle \mathcal{I}, \phi\rangle :
%         \phi \in B_\delta \Big\},
% \end{align*}
% $B_\delta$ a ball of radius $\delta$ in some norm.
%
% \vspace{-1em}
%
% \begin{figure}[!h]
% \centering
% \includegraphics[width = 0.4\textwidth]{./images/functional_perturbation_worst_case.png}
% \setlength{\textfloatsep}{-10pt}
% \end{figure}
%
% If $B_\delta$ is the L-infinity-ball of radius $\delta$, then
% the worst-case $\phi^*$ is given by
% \begin{align*}
%   \phi^*(\nu) = \delta \cdot \text{sign}(\mathcal{I}(\nu))
% \end{align*}
%
% \end{frame}
